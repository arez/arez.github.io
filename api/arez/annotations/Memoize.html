<!DOCTYPE HTML>
<html lang="en">
<head>
<!-- Generated by javadoc (17) -->
<title>Memoize (Arez API Documentation)</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="description" content="declaration: package: arez.annotations, annotation type: Memoize">
<meta name="generator" content="javadoc/ClassWriterImpl">
<link rel="stylesheet" type="text/css" href="../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../script-dir/jquery-ui.min.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../jquery-ui.overrides.css" title="Style">
<script type="text/javascript" src="../../script.js"></script>
<script type="text/javascript" src="../../script-dir/jquery-3.5.1.min.js"></script>
<script type="text/javascript" src="../../script-dir/jquery-ui.min.js"></script>
</head>
<body class="class-declaration-page">
<script type="text/javascript">var pathtoroot = "../../";
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<div class="flex-box">
<header role="banner" class="flex-header">
<nav role="navigation">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="top-nav" id="navbar-top">
<div class="skip-nav"><a href="#skip-navbar-top" title="Skip navigation links">Skip navigation links</a></div>
<ul id="navbar-top-firstrow" class="nav-list" title="Navigation">
<li><a href="../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="nav-bar-cell1-rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../index-all.html">Index</a></li>
<li><a href="../../help-doc.html#class">Help</a></li>
</ul>
</div>
<div class="sub-nav">
<div>
<ul class="sub-nav-list">
<li>Summary:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#annotation-interface-optional-element-summary">Optional</a>&nbsp;|&nbsp;</li>
<li>Required</li>
</ul>
<ul class="sub-nav-list">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#annotation-interface-element-detail">Element</a></li>
</ul>
</div>
<div class="nav-list-search"><label for="search-input">SEARCH:</label>
<input type="text" id="search-input" value="search" disabled="disabled">
<input type="reset" id="reset-button" value="reset" disabled="disabled">
</div>
</div>
<!-- ========= END OF TOP NAVBAR ========= -->
<span class="skip-nav" id="skip-navbar-top"></span></nav>
</header>
<div class="flex-content">
<main role="main">
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="sub-title"><span class="package-label-in-type">Package</span>&nbsp;<a href="package-summary.html">arez.annotations</a></div>
<h1 title="Annotation Interface Memoize" class="title">Annotation Interface Memoize</h1>
</div>
<section class="class-description" id="class-description">
<hr>
<div class="type-signature"><span class="annotations"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/annotation/Documented.html" title="class or interface in java.lang.annotation" class="external-link">@Documented</a>
<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/annotation/Target.html" title="class or interface in java.lang.annotation" class="external-link">@Target</a>(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/annotation/ElementType.html#METHOD" title="class or interface in java.lang.annotation" class="external-link">METHOD</a>)
</span><span class="modifiers">public @interface </span><span class="element-name"><a href="../../src-html/arez/annotations/Memoize.html#line-41">Memoize</a></span></div>
<div class="block">Methods marked with this annotation are <a href="https://en.wikipedia.org/wiki/Memoization">memoized</a> while
 activated which typically means they have an observer. These methods are typically backed with one or more
 <a href="../ComputableValue.html" title="class in arez"><code>ComputableValue</code></a> instances.

 <p>The return value should be derived from the method parameters and any other <a href="Observable.html" title="annotation interface in arez.annotations"><code>Observable</code></a> properties
 or <a href="Memoize.html" title="annotation interface in arez.annotations"><code>Memoize</code></a> properties accessed within the scope of the method. The he value returned by the method
 should not change unless the state of the <a href="Observable.html" title="annotation interface in arez.annotations"><code>Observable</code></a> properties or <a href="Memoize.html" title="annotation interface in arez.annotations"><code>Memoize</code></a> properties change.
 If the return value can change outside of the above scenarios it is important to set the <a href="#depType()"><code>depType()</code></a>
 to <a href="DepType.html#AREZ_OR_EXTERNAL"><code>DepType.AREZ_OR_EXTERNAL</code></a> and explicitly report possible changes to the derived value by invoking
 the <a href="../ComputableValue.html#reportPossiblyChanged()"><code>ComputableValue.reportPossiblyChanged()</code></a> on the <a href="../ComputableValue.html" title="class in arez"><code>ComputableValue</code></a> returned from a method
 annotated by the <a href="ComputableValueRef.html" title="annotation interface in arez.annotations"><code>ComputableValueRef</code></a> that is linked to the method marked with this annotation.</p>

 <p>The method is wrapped in a READ_ONLY transaction and thus can not modify other state in the system.</p>

 <p>The enhanced method is implemented by creating a separate <a href="../ComputableValue.html" title="class in arez"><code>ComputableValue</code></a> instance for each unique
 combination of parameters that are passed to the method. When the <a href="../ComputableValue.html" title="class in arez"><code>ComputableValue</code></a> is deactivated, a hook
 triggers that removes the <a href="../ComputableValue.html" title="class in arez"><code>ComputableValue</code></a> from the local cache. If the method has zero parameter then
 the method is backed by a single <a href="../ComputableValue.html" title="class in arez"><code>ComputableValue</code></a> instance.</p>

 <p>The method that is annotated with this annotation must comply with the additional constraints:</p>
 <ul>
 <li>Must not be annotated with any other arez annotation</li>
 <li>Must return a value</li>
 <li>Must not be private</li>
 <li>Must not be static</li>
 <li>Must not be final</li>
 <li>Must not be abstract</li>
 <li>Must not throw exceptions</li>
 <li>Must be accessible to the class annotated by the <a href="ArezComponent.html" title="annotation interface in arez.annotations"><code>ArezComponent</code></a> annotation.</li>
 </ul></div>
</section>
<section class="summary">
<ul class="summary-list">
<!-- =========== ANNOTATION INTERFACE OPTIONAL MEMBER SUMMARY =========== -->
<li>
<section class="member-summary" id="annotation-interface-optional-element-summary">
<h2>Optional Element Summary</h2>
<div class="caption"><span>Optional Elements</span></div>
<div class="summary-table three-column-summary">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Optional Element</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color"><code><a href="DepType.html" title="enum class in arez.annotations">DepType</a></code></div>
<div class="col-second even-row-color"><code><a href="#depType()" class="member-name-link">depType</a></code></div>
<div class="col-last even-row-color">
<div class="block">Enum indicating whether the value of the computable is derived from arez elements and/or external dependencies.</div>
</div>
<div class="col-first odd-row-color"><code>boolean</code></div>
<div class="col-second odd-row-color"><code><a href="#keepAlive()" class="member-name-link">keepAlive</a></code></div>
<div class="col-last odd-row-color">
<div class="block">A flag indicating whether the computable should be "kept alive".</div>
</div>
<div class="col-first even-row-color"><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></code></div>
<div class="col-second even-row-color"><code><a href="#name()" class="member-name-link">name</a></code></div>
<div class="col-last even-row-color">
<div class="block">Return the root name of the element value relative to the component.</div>
</div>
<div class="col-first odd-row-color"><code>boolean</code></div>
<div class="col-second odd-row-color"><code><a href="#observeLowerPriorityDependencies()" class="member-name-link">observeLowerPriorityDependencies</a></code></div>
<div class="col-last odd-row-color">
<div class="block">Flag controlling whether the underlying observer can observe ComputableValue instances with lower priorities.</div>
</div>
<div class="col-first even-row-color"><code><a href="Priority.html" title="enum class in arez.annotations">Priority</a></code></div>
<div class="col-second even-row-color"><code><a href="#priority()" class="member-name-link">priority</a></code></div>
<div class="col-last even-row-color">
<div class="block">The priority of the underlying ComputableValue observer</div>
</div>
<div class="col-first odd-row-color"><code><a href="Feature.html" title="enum class in arez.annotations">Feature</a></code></div>
<div class="col-second odd-row-color"><code><a href="#readOutsideTransaction()" class="member-name-link">readOutsideTransaction</a></code></div>
<div class="col-last odd-row-color">
<div class="block">Indicate whether the memoized value can be read outside a transaction.</div>
</div>
<div class="col-first even-row-color"><code>boolean</code></div>
<div class="col-second even-row-color"><code><a href="#reportResult()" class="member-name-link">reportResult</a></code></div>
<div class="col-last even-row-color">
<div class="block">Return true if the return value of the memoized value should be reported to the Arez spy subsystem.</div>
</div>
</div>
</section>
</li>
</ul>
</section>
<section class="details" id="annotation-interface-element-detail">
<ul class="details-list">
<!-- ============ ANNOTATION INTERFACE MEMBER DETAIL =========== -->
<li>
<section class="member-details">
<h2>Element Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="name()">
<h3>name</h3>
<div class="member-signature"><span class="annotations">@Nonnull </span><span class="return-type"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></span>&nbsp;<span class="element-name"><a href="../../src-html/arez/annotations/Memoize.html#line-54">name</a></span></div>
<div class="block">Return the root name of the element value relative to the component.
 If the method has parameters then the name will be used in combination with a sequence
 when naming the synthesized <a href="../ComputableValue.html" title="class in arez"><code>ComputableValue</code></a> instances. The value must conform to
 the requirements of a java identifier. The name must also be unique across <a href="Observable.html" title="annotation interface in arez.annotations"><code>Observable</code></a>s,
 <a href="Memoize.html" title="annotation interface in arez.annotations"><code>Memoize</code></a>s and <a href="Action.html" title="annotation interface in arez.annotations"><code>Action</code></a>s within the scope of the <a href="ArezComponent.html" title="annotation interface in arez.annotations"><code>ArezComponent</code></a> annotated element.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>the root name of the element relative to the component.</dd>
</dl>
<dl class="notes">
<dt>Default:</dt>
<dd>"&lt;default&gt;"</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="keepAlive()">
<h3>keepAlive</h3>
<div class="member-signature"><span class="return-type">boolean</span>&nbsp;<span class="element-name"><a href="../../src-html/arez/annotations/Memoize.html#line-66">keepAlive</a></span></div>
<div class="block">A flag indicating whether the computable should be "kept alive". A computable that is kept alive
 is activated on creation and never deactivates. This is useful if the computable property is only
 accessed from within actions but should be kept up to date and not recomputed on each access.
 This MUST not be set if the target method has any parameters as can not keep computed value active
 if parameter values are unknown.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>true to keep computable alive.</dd>
</dl>
<dl class="notes">
<dt>Default:</dt>
<dd>false</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="priority()">
<h3>priority</h3>
<div class="member-signature"><span class="return-type"><a href="Priority.html" title="enum class in arez.annotations">Priority</a></span>&nbsp;<span class="element-name"><a href="../../src-html/arez/annotations/Memoize.html#line-73">priority</a></span></div>
<div class="block">The priority of the underlying ComputableValue observer</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>the priority of the ComputableValue observer.</dd>
</dl>
<dl class="notes">
<dt>Default:</dt>
<dd>DEFAULT</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="observeLowerPriorityDependencies()">
<h3>observeLowerPriorityDependencies</h3>
<div class="member-signature"><span class="return-type">boolean</span>&nbsp;<span class="element-name"><a href="../../src-html/arez/annotations/Memoize.html#line-85">observeLowerPriorityDependencies</a></span></div>
<div class="block">Flag controlling whether the underlying observer can observe ComputableValue instances with lower priorities.
 The default value of false will result in an invariant failure (in development mode) if a lower priority
 dependency is observed by the observer. This is to prevent priority inversion when scheduling a higher
 priority observer is dependent upon a lower priority computable value. If the value is true then the no
 invariant failure is triggered and the component relies on the component author to handle possible priority
 inversion.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>false if observing lower priority dependencies should result in invariant failure in development mode.</dd>
</dl>
<dl class="notes">
<dt>Default:</dt>
<dd>false</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="depType()">
<h3>depType</h3>
<div class="member-signature"><span class="annotations">@Nonnull </span><span class="return-type"><a href="DepType.html" title="enum class in arez.annotations">DepType</a></span>&nbsp;<span class="element-name"><a href="../../src-html/arez/annotations/Memoize.html#line-97">depType</a></span></div>
<div class="block">Enum indicating whether the value of the computable is derived from arez elements and/or external dependencies.
 If set to <a href="DepType.html#AREZ"><code>DepType.AREZ</code></a> then Arez will verify that the method annotated by this annotation accesses arez
 elements (i.e. instances of <a href="../ObservableValue.html" title="class in arez"><code>ObservableValue</code></a> or instances of <a href="../ComputableValue.html" title="class in arez"><code>ComputableValue</code></a>). If set to
 <a href="DepType.html#AREZ_OR_NONE"><code>DepType.AREZ_OR_NONE</code></a> then the runtime will allow computable to exist with no dependencies. If set
 to <a href="DepType.html#AREZ_OR_EXTERNAL"><code>DepType.AREZ_OR_EXTERNAL</code></a> then the component must define a <a href="ComputableValueRef.html" title="annotation interface in arez.annotations"><code>ComputableValueRef</code></a> method and should invoke
 <a href="../ComputableValue.html#reportPossiblyChanged()"><code>ComputableValue.reportPossiblyChanged()</code></a> when the non-arez dependencies are changed.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>the types of dependencies allowed on the computable.</dd>
</dl>
<dl class="notes">
<dt>Default:</dt>
<dd>AREZ</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="reportResult()">
<h3>reportResult</h3>
<div class="member-signature"><span class="return-type">boolean</span>&nbsp;<span class="element-name"><a href="../../src-html/arez/annotations/Memoize.html#line-106">reportResult</a></span></div>
<div class="block">Return true if the return value of the memoized value should be reported to the Arez spy subsystem.
 It is useful to disable reporting for large, circular or just uninteresting parameters to the spy infrastructure.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>true to report the return value, false otherwise.</dd>
</dl>
<dl class="notes">
<dt>Default:</dt>
<dd>true</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="readOutsideTransaction()">
<h3>readOutsideTransaction</h3>
<div class="member-signature"><span class="return-type"><a href="Feature.html" title="enum class in arez.annotations">Feature</a></span>&nbsp;<span class="element-name"><a href="../../src-html/arez/annotations/Memoize.html#line-117">readOutsideTransaction</a></span></div>
<div class="block">Indicate whether the memoized value can be read outside a transaction.
 If the value is <a href="Feature.html#AUTODETECT"><code>Feature.AUTODETECT</code></a> then the value will be derived from the
 <a href="ArezComponent.html#defaultReadOutsideTransaction()"><code>ArezComponent.defaultReadOutsideTransaction()</code></a> parameter on the <a href="ArezComponent.html" title="annotation interface in arez.annotations"><code>ArezComponent</code></a> annotation. If
 the value is set to <a href="Feature.html#ENABLE"><code>Feature.ENABLE</code></a> then the memoized value can be read outside a transaction. It should
 be noted that in this scenario the memoized value will be recalculated each time it is accessed.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>flag that determines whether the memoized value allows reads outside a transaction, false to require a transaction to read the memoized value.</dd>
</dl>
<dl class="notes">
<dt>Default:</dt>
<dd>AUTODETECT</dd>
</dl>
</section>
</li>
</ul>
</section>
</li>
</ul>
</section>
<!-- ========= END OF CLASS DATA ========= -->
</main>
</div>
</div>
</body>
</html>
