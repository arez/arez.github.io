<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc -->
<title>Memoize (Arez API Documentation)</title>
<link rel="stylesheet" type="text/css" href="../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="Memoize (Arez API Documentation)";
        }
    }
    catch(err) {
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../index-all.html">Index</a></li>
<li><a href="../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../arez/annotations/LinkType.html" title="enum in arez.annotations"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../arez/annotations/Multiplicity.html" title="enum in arez.annotations"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../index.html?arez/annotations/Memoize.html" target="_top">Frames</a></li>
<li><a href="Memoize.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Required&nbsp;|&nbsp;</li>
<li><a href="#annotation.type.optional.element.summary">Optional</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#annotation.type.element.detail">Element</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">arez.annotations</div>
<h2 title="Annotation Type Memoize" class="title">Annotation Type Memoize</h2>
</div>
<div class="contentContainer">
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/annotation/Documented.html?is-external=true" title="class or interface in java.lang.annotation">@Documented</a>
 <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/annotation/Target.html?is-external=true" title="class or interface in java.lang.annotation">@Target</a>(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/annotation/Target.html?is-external=true#value--" title="class or interface in java.lang.annotation">value</a>=<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/annotation/ElementType.html?is-external=true#METHOD" title="class or interface in java.lang.annotation">METHOD</a>)
public @interface <a href="../../src-html/arez/annotations/Memoize.html#line.43">Memoize</a></pre>
<div class="block">Methods marked with this annotation are <a href="https://en.wikipedia.org/wiki/Memoization">memoized</a> while
 activated which typically means they have an observer. These methods are typically backed with one or more
 <a href="../../arez/ComputableValue.html" title="class in arez"><code>ComputableValue</code></a> instances.

 <p>The return value should be derived from the method parameters and any other <a href="../../arez/annotations/Observable.html" title="annotation in arez.annotations"><code>Observable</code></a> properties
 or <a href="../../arez/annotations/Memoize.html" title="annotation in arez.annotations"><code>Memoize</code></a> properties accessed within the scope of the method. The he value returned by the method
 should not change unless the state of the <a href="../../arez/annotations/Observable.html" title="annotation in arez.annotations"><code>Observable</code></a> properties or <a href="../../arez/annotations/Memoize.html" title="annotation in arez.annotations"><code>Memoize</code></a> properties change.
 If the return value can change outside of the above scenarios it is important to set the <a href="../../arez/annotations/Memoize.html#depType--"><code>depType()</code></a>
 to <a href="../../arez/annotations/DepType.html#AREZ_OR_EXTERNAL"><code>DepType.AREZ_OR_EXTERNAL</code></a> and explicitly report possible changes to the derived value by invoking
 the <a href="../../arez/ComputableValue.html#reportPossiblyChanged--"><code>ComputableValue.reportPossiblyChanged()</code></a> on the <a href="../../arez/ComputableValue.html" title="class in arez"><code>ComputableValue</code></a> returned from a method
 annotated by the <a href="../../arez/annotations/ComputableValueRef.html" title="annotation in arez.annotations"><code>ComputableValueRef</code></a> that is linked to the method marked with this annotation.</p>

 <p>The method is wrapped in a READ_ONLY transaction and thus can not modify other state in the system.</p>

 <p>The enhanced method is implemented by creating a separate <a href="../../arez/ComputableValue.html" title="class in arez"><code>ComputableValue</code></a> instance for each unique
 combination of parameters that are passed to the method. When the <a href="../../arez/ComputableValue.html" title="class in arez"><code>ComputableValue</code></a> is deactivated, a hook
 triggers that removes the <a href="../../arez/ComputableValue.html" title="class in arez"><code>ComputableValue</code></a> from the local cache. If the method has zero parameter then
 the method is backed by a single <a href="../../arez/ComputableValue.html" title="class in arez"><code>ComputableValue</code></a> instance.</p>

 <p>The method that is annotated with this annotation must comply with the additional constraints:</p>
 <ul>
 <li>Must not be annotated with any other arez annotation</li>
 <li>Must return a value</li>
 <li>Must not be private</li>
 <li>Must not be static</li>
 <li>Must not be final</li>
 <li>Must not be abstract</li>
 <li>Must not throw exceptions</li>
 <li>Must be accessible to the class annotated by the <a href="../../arez/annotations/ArezComponent.html" title="annotation in arez.annotations"><code>ArezComponent</code></a> annotation.</li>
 </ul></div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- =========== ANNOTATION TYPE OPTIONAL MEMBER SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="annotation.type.optional.element.summary">
<!--   -->
</a>
<h3>Optional Element Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Optional Element Summary table, listing optional elements, and an explanation">
<caption><span>Optional Elements</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Optional Element and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="../../arez/annotations/DepType.html" title="enum in arez.annotations">DepType</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../arez/annotations/Memoize.html#depType--">depType</a></span></code>
<div class="block">Enum indicating whether the value of the computable is derived from arez elements and/or external dependencies.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../arez/annotations/Memoize.html#keepAlive--">keepAlive</a></span></code>
<div class="block">A flag indicating whether the computable should be "kept alive".</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../arez/annotations/Memoize.html#name--">name</a></span></code>
<div class="block">Return the root name of the element value relative to the component.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../arez/annotations/Memoize.html#observeLowerPriorityDependencies--">observeLowerPriorityDependencies</a></span></code>
<div class="block">Flag controlling whether the underlying observer can observe ComputableValue instances with lower priorities.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="../../arez/annotations/Priority.html" title="enum in arez.annotations">Priority</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../arez/annotations/Memoize.html#priority--">priority</a></span></code>
<div class="block">The priority of the underlying ComputableValue observer</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../arez/annotations/Memoize.html#readOutsideTransaction--">readOutsideTransaction</a></span></code>
<div class="block">Return true if the memoized value can be read outside a transaction.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../arez/annotations/Memoize.html#reportResult--">reportResult</a></span></code>
<div class="block">Return true if the return value of the memoized value should be reported to the Arez spy subsystem.</div>
</td>
</tr>
</table>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ ANNOTATION TYPE MEMBER DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="annotation.type.element.detail">
<!--   -->
</a>
<h3>Element Detail</h3>
<a name="name--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>name</h4>
<pre><a href="https://docs.oracle.com/javase/8/docs/api/javax/annotation/Nonnull.html?is-external=true" title="class or interface in javax.annotation">@Nonnull</a> public abstract&nbsp;<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;<a href="../../src-html/arez/annotations/Memoize.html#line.55">name</a></pre>
<div class="block">Return the root name of the element value relative to the component.
 If the method has parameters then the name will be used in combination with a sequence
 when naming the synthesized <a href="../../arez/ComputableValue.html" title="class in arez"><code>ComputableValue</code></a> instances. The value must conform to
 the requirements of a java identifier. The name must also be unique across <a href="../../arez/annotations/Observable.html" title="annotation in arez.annotations"><code>Observable</code></a>s,
 <a href="../../arez/annotations/Memoize.html" title="annotation in arez.annotations"><code>Memoize</code></a>s and <a href="../../arez/annotations/Action.html" title="annotation in arez.annotations"><code>Action</code></a>s within the scope of the <a href="../../arez/annotations/ArezComponent.html" title="annotation in arez.annotations"><code>ArezComponent</code></a> annotated element.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the root name of the element relative to the component.</dd>
</dl>
<dl>
<dt>Default:</dt>
<dd>"&lt;default&gt;"</dd>
</dl>
</li>
</ul>
</li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="keepAlive--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>keepAlive</h4>
<pre>public abstract&nbsp;boolean&nbsp;<a href="../../src-html/arez/annotations/Memoize.html#line.66">keepAlive</a></pre>
<div class="block">A flag indicating whether the computable should be "kept alive". A computable that is kept alive
 is activated on creation and never deactivates. This is useful if the computable property is only
 accessed from within actions but should be kept up to date and not recomputed on each access.
 This MUST not be set if the target method has any parameters as can not keep computed value active
 if parameter values are unknown.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>true to keep computable alive.</dd>
</dl>
<dl>
<dt>Default:</dt>
<dd>false</dd>
</dl>
</li>
</ul>
</li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="priority--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>priority</h4>
<pre>public abstract&nbsp;<a href="../../arez/annotations/Priority.html" title="enum in arez.annotations">Priority</a>&nbsp;<a href="../../src-html/arez/annotations/Memoize.html#line.73">priority</a></pre>
<div class="block">The priority of the underlying ComputableValue observer</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the priority of the ComputableValue observer.</dd>
</dl>
<dl>
<dt>Default:</dt>
<dd>arez.annotations.Priority.DEFAULT</dd>
</dl>
</li>
</ul>
</li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="observeLowerPriorityDependencies--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>observeLowerPriorityDependencies</h4>
<pre>public abstract&nbsp;boolean&nbsp;<a href="../../src-html/arez/annotations/Memoize.html#line.85">observeLowerPriorityDependencies</a></pre>
<div class="block">Flag controlling whether the underlying observer can observe ComputableValue instances with lower priorities.
 The default value of false will result in an invariant failure (in development mode) if a lower priority
 dependency is observed by the observer. This is to prevent priority inversion when scheduling a higher
 priority observer is dependent upon a lower priority computable value. If the value is true then the no
 invariant failure is triggered and the component relies on the component author to handle possible priority
 inversion.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>false if observing lower priority dependencies should result in invariant failure in development mode.</dd>
</dl>
<dl>
<dt>Default:</dt>
<dd>false</dd>
</dl>
</li>
</ul>
</li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="depType--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>depType</h4>
<pre><a href="https://docs.oracle.com/javase/8/docs/api/javax/annotation/Nonnull.html?is-external=true" title="class or interface in javax.annotation">@Nonnull</a> public abstract&nbsp;<a href="../../arez/annotations/DepType.html" title="enum in arez.annotations">DepType</a>&nbsp;<a href="../../src-html/arez/annotations/Memoize.html#line.98">depType</a></pre>
<div class="block">Enum indicating whether the value of the computable is derived from arez elements and/or external dependencies.
 If set to <a href="../../arez/annotations/DepType.html#AREZ"><code>DepType.AREZ</code></a> then Arez will verify that the method annotated by this annotation accesses arez
 elements (i.e. instances of <a href="../../arez/ObservableValue.html" title="class in arez"><code>ObservableValue</code></a> or instances of <a href="../../arez/ComputableValue.html" title="class in arez"><code>ComputableValue</code></a>). If set to
 <a href="../../arez/annotations/DepType.html#AREZ_OR_NONE"><code>DepType.AREZ_OR_NONE</code></a> then the runtime will allow computable to exist with no dependencies. If set
 to <a href="../../arez/annotations/DepType.html#AREZ_OR_EXTERNAL"><code>DepType.AREZ_OR_EXTERNAL</code></a> then the component must define a <a href="../../arez/annotations/ComputableValueRef.html" title="annotation in arez.annotations"><code>ComputableValueRef</code></a> method and should invoke
 <a href="../../arez/ComputableValue.html#reportPossiblyChanged--"><code>ComputableValue.reportPossiblyChanged()</code></a> when the non-arez dependencies are changed.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the types of dependencies allowed on the computable.</dd>
</dl>
<dl>
<dt>Default:</dt>
<dd>arez.annotations.DepType.AREZ</dd>
</dl>
</li>
</ul>
</li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="reportResult--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>reportResult</h4>
<pre>public abstract&nbsp;boolean&nbsp;<a href="../../src-html/arez/annotations/Memoize.html#line.106">reportResult</a></pre>
<div class="block">Return true if the return value of the memoized value should be reported to the Arez spy subsystem.
 It is useful to disable reporting for large, circular or just uninteresting parameters to the spy infrastructure.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>true to report the return value, false otherwise.</dd>
</dl>
<dl>
<dt>Default:</dt>
<dd>true</dd>
</dl>
</li>
</ul>
</li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="readOutsideTransaction--">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>readOutsideTransaction</h4>
<pre>public abstract&nbsp;boolean&nbsp;<a href="../../src-html/arez/annotations/Memoize.html#line.115">readOutsideTransaction</a></pre>
<div class="block">Return true if the memoized value can be read outside a transaction.
 It should be noted that if there is no Observer tracking the memoized value, then the value will be
 calculated each time it is accessed.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>true to allow reads outside a transaction, false to require a transaction to read memoized value.</dd>
</dl>
<dl>
<dt>Default:</dt>
<dd>false</dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../index-all.html">Index</a></li>
<li><a href="../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../arez/annotations/LinkType.html" title="enum in arez.annotations"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../arez/annotations/Multiplicity.html" title="enum in arez.annotations"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../index.html?arez/annotations/Memoize.html" target="_top">Frames</a></li>
<li><a href="Memoize.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Required&nbsp;|&nbsp;</li>
<li><a href="#annotation.type.optional.element.summary">Optional</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#annotation.type.element.detail">Element</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
