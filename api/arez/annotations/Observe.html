<!DOCTYPE HTML>
<html lang="en">
<head>
<!-- Generated by javadoc (17) -->
<title>Observe (Arez API Documentation)</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="description" content="declaration: package: arez.annotations, annotation type: Observe">
<meta name="generator" content="javadoc/ClassWriterImpl">
<link rel="stylesheet" type="text/css" href="../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../script-dir/jquery-ui.min.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../jquery-ui.overrides.css" title="Style">
<script type="text/javascript" src="../../script.js"></script>
<script type="text/javascript" src="../../script-dir/jquery-3.5.1.min.js"></script>
<script type="text/javascript" src="../../script-dir/jquery-ui.min.js"></script>
</head>
<body class="class-declaration-page">
<script type="text/javascript">var pathtoroot = "../../";
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<div class="flex-box">
<header role="banner" class="flex-header">
<nav role="navigation">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="top-nav" id="navbar-top">
<div class="skip-nav"><a href="#skip-navbar-top" title="Skip navigation links">Skip navigation links</a></div>
<ul id="navbar-top-firstrow" class="nav-list" title="Navigation">
<li><a href="../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="nav-bar-cell1-rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../index-all.html">Index</a></li>
<li><a href="../../help-doc.html#class">Help</a></li>
</ul>
</div>
<div class="sub-nav">
<div>
<ul class="sub-nav-list">
<li>Summary:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#annotation-interface-optional-element-summary">Optional</a>&nbsp;|&nbsp;</li>
<li>Required</li>
</ul>
<ul class="sub-nav-list">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#annotation-interface-element-detail">Element</a></li>
</ul>
</div>
<div class="nav-list-search"><label for="search-input">SEARCH:</label>
<input type="text" id="search-input" value="search" disabled="disabled">
<input type="reset" id="reset-button" value="reset" disabled="disabled">
</div>
</div>
<!-- ========= END OF TOP NAVBAR ========= -->
<span class="skip-nav" id="skip-navbar-top"></span></nav>
</header>
<div class="flex-content">
<main role="main">
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="sub-title"><span class="package-label-in-type">Package</span>&nbsp;<a href="package-summary.html">arez.annotations</a></div>
<h1 title="Annotation Interface Observe" class="title">Annotation Interface Observe</h1>
</div>
<section class="class-description" id="class-description">
<hr>
<div class="type-signature"><span class="annotations"><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/annotation/Documented.html" title="class or interface in java.lang.annotation" class="external-link">@Documented</a>
<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/annotation/Target.html" title="class or interface in java.lang.annotation" class="external-link">@Target</a>(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/annotation/ElementType.html#METHOD" title="class or interface in java.lang.annotation" class="external-link">METHOD</a>)
</span><span class="modifiers">public @interface </span><span class="element-name"><a href="../../src-html/arez/annotations/Observe.html#line-37">Observe</a></span></div>
<div class="block">Annotation that marks a method as observed.
 Any <a href="../ObservableValue.html" title="class in arez"><code>ObservableValue</code></a> instances or <a href="../ComputableValue.html" title="class in arez"><code>ComputableValue</code></a> instances accessed within the
 scope of the method will be added as a dependency of the observer. If any of these dependencies are changed
 then the runtime will invoke the associated <a href="OnDepsChange.html" title="annotation interface in arez.annotations"><code>OnDepsChange</code></a> method if present or re-schedule the observed
 method for execution if there is no <a href="OnDepsChange.html" title="annotation interface in arez.annotations"><code>OnDepsChange</code></a> method present. Note that Arez will attempt to detect
 the <a href="OnDepsChange.html" title="annotation interface in arez.annotations"><code>OnDepsChange</code></a> method using naming conventions even if there is no method explicitly annotated.

 <p>The method that is annotated with this annotation must comply with the additional constraints:</p>
 <ul>
 <li>Must not be annotated with any other arez annotation</li>
 <li>Must not be private</li>
 <li>Must not be static</li>
 <li>Must not be final</li>
 <li>Must not be abstract</li>
 </ul>

 <p>If the <a href="#executor()"><code>executor()</code></a> is set to <a href="Executor.html#INTERNAL"><code>Executor.INTERNAL</code></a> then the method must also
 comply with the following additional constraints:</p>
 <ul>
 <li>Must not be public</li>
 <li>Must have 0 parameters</li>
 <li>Must not return a value</li>
 <li>Must not throw exceptions</li>
 <li>Must be accessible to the class annotated by the <a href="ArezComponent.html" title="annotation interface in arez.annotations"><code>ArezComponent</code></a> annotation.</li>
 </ul></div>
</section>
<section class="summary">
<ul class="summary-list">
<!-- =========== ANNOTATION INTERFACE OPTIONAL MEMBER SUMMARY =========== -->
<li>
<section class="member-summary" id="annotation-interface-optional-element-summary">
<h2>Optional Element Summary</h2>
<div class="caption"><span>Optional Elements</span></div>
<div class="summary-table three-column-summary">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Optional Element</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color"><code><a href="DepType.html" title="enum class in arez.annotations">DepType</a></code></div>
<div class="col-second even-row-color"><code><a href="#depType()" class="member-name-link">depType</a></code></div>
<div class="col-last even-row-color">
<div class="block">Enum indicating whether the Observer is derived from arez elements and/or external dependencies.</div>
</div>
<div class="col-first odd-row-color"><code><a href="Executor.html" title="enum class in arez.annotations">Executor</a></code></div>
<div class="col-second odd-row-color"><code><a href="#executor()" class="member-name-link">executor</a></code></div>
<div class="col-last odd-row-color">
<div class="block">The actor responsible for calling the observed method.</div>
</div>
<div class="col-first even-row-color"><code>boolean</code></div>
<div class="col-second even-row-color"><code><a href="#mutation()" class="member-name-link">mutation</a></code></div>
<div class="col-last even-row-color">
<div class="block">Does the observer's tracking method change arez state or not.</div>
</div>
<div class="col-first odd-row-color"><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></code></div>
<div class="col-second odd-row-color"><code><a href="#name()" class="member-name-link">name</a></code></div>
<div class="col-last odd-row-color">
<div class="block">Return the name of the Observer relative to the component.</div>
</div>
<div class="col-first even-row-color"><code>boolean</code></div>
<div class="col-second even-row-color"><code><a href="#nestedActionsAllowed()" class="member-name-link">nestedActionsAllowed</a></code></div>
<div class="col-last even-row-color">
<div class="block">Can the observer invoke actions.</div>
</div>
<div class="col-first odd-row-color"><code>boolean</code></div>
<div class="col-second odd-row-color"><code><a href="#observeLowerPriorityDependencies()" class="member-name-link">observeLowerPriorityDependencies</a></code></div>
<div class="col-last odd-row-color">
<div class="block">Flag controlling whether the observer can observe ComputableValue instances with lower priorities.</div>
</div>
<div class="col-first even-row-color"><code><a href="Priority.html" title="enum class in arez.annotations">Priority</a></code></div>
<div class="col-second even-row-color"><code><a href="#priority()" class="member-name-link">priority</a></code></div>
<div class="col-last even-row-color">
<div class="block">The priority of the underlying observer</div>
</div>
<div class="col-first odd-row-color"><code>boolean</code></div>
<div class="col-second odd-row-color"><code><a href="#reportParameters()" class="member-name-link">reportParameters</a></code></div>
<div class="col-last odd-row-color">
<div class="block">Return true if the parameters should be reported to the core Arez runtime.</div>
</div>
<div class="col-first even-row-color"><code>boolean</code></div>
<div class="col-second even-row-color"><code><a href="#reportResult()" class="member-name-link">reportResult</a></code></div>
<div class="col-last even-row-color">
<div class="block">Return true if the return value of the observed function (if any) should be reported to the Arez spy subsystem.</div>
</div>
</div>
</section>
</li>
</ul>
</section>
<section class="details" id="annotation-interface-element-detail">
<ul class="details-list">
<!-- ============ ANNOTATION INTERFACE MEMBER DETAIL =========== -->
<li>
<section class="member-details">
<h2>Element Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="name()">
<h3>name</h3>
<div class="member-signature"><span class="annotations"><a href="https://docs.oracle.com/javase/8/docs/api/javax/annotation/Nonnull.html" title="class or interface in javax.annotation" class="external-link">@Nonnull</a> </span><span class="return-type"><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></span>&nbsp;<span class="element-name"><a href="../../src-html/arez/annotations/Observe.html#line-50">name</a></span></div>
<div class="block">Return the name of the Observer relative to the component.
 The value must conform to the requirements of a java identifier.
 The name must also be unique across <a href="Observable.html" title="annotation interface in arez.annotations"><code>Observable</code></a>s,
 <a href="Memoize.html" title="annotation interface in arez.annotations"><code>Memoize</code></a>s and <a href="Action.html" title="annotation interface in arez.annotations"><code>Action</code></a>s within the scope of the
 <a href="ArezComponent.html" title="annotation interface in arez.annotations"><code>ArezComponent</code></a> annotated element.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>the name of the Observer relative to the component.</dd>
</dl>
<dl class="notes">
<dt>Default:</dt>
<dd>"&lt;default&gt;"</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="mutation()">
<h3>mutation</h3>
<div class="member-signature"><span class="return-type">boolean</span>&nbsp;<span class="element-name"><a href="../../src-html/arez/annotations/Observe.html#line-60">mutation</a></span></div>
<div class="block">Does the observer's tracking method change arez state or not.
 Observers are primarily used to reflect Arez state onto external systems (i.e. views, network layers etc.)
 and thus the default value is false thus making the transaction mode read-only.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>true if the observer should use a read-write transaction, false if it should use a read-only transaction.</dd>
</dl>
<dl class="notes">
<dt>Default:</dt>
<dd>false</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="priority()">
<h3>priority</h3>
<div class="member-signature"><span class="return-type"><a href="Priority.html" title="enum class in arez.annotations">Priority</a></span>&nbsp;<span class="element-name"><a href="../../src-html/arez/annotations/Observe.html#line-67">priority</a></span></div>
<div class="block">The priority of the underlying observer</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>the priority of the observer.</dd>
</dl>
<dl class="notes">
<dt>Default:</dt>
<dd>DEFAULT</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="executor()">
<h3>executor</h3>
<div class="member-signature"><span class="return-type"><a href="Executor.html" title="enum class in arez.annotations">Executor</a></span>&nbsp;<span class="element-name"><a href="../../src-html/arez/annotations/Observe.html#line-74">executor</a></span></div>
<div class="block">The actor responsible for calling the observed method.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>the actor responsible for calling the observed method.</dd>
</dl>
<dl class="notes">
<dt>Default:</dt>
<dd>INTERNAL</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="observeLowerPriorityDependencies()">
<h3>observeLowerPriorityDependencies</h3>
<div class="member-signature"><span class="return-type">boolean</span>&nbsp;<span class="element-name"><a href="../../src-html/arez/annotations/Observe.html#line-86">observeLowerPriorityDependencies</a></span></div>
<div class="block">Flag controlling whether the observer can observe ComputableValue instances with lower priorities.
 The default value of false will result in an invariant failure (in development mode) if a lower priority
 dependency is observed by the observer. This is to prevent priority inversion when scheduling a higher
 priority observer that is dependent upon a lower priority computable value. If the value is true then the no
 invariant failure is triggered and the component relies on the component author to handle possible priority
 inversion.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>false if observing lower priority dependencies should result in invariant failure in development mode.</dd>
</dl>
<dl class="notes">
<dt>Default:</dt>
<dd>false</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="nestedActionsAllowed()">
<h3>nestedActionsAllowed</h3>
<div class="member-signature"><span class="return-type">boolean</span>&nbsp;<span class="element-name"><a href="../../src-html/arez/annotations/Observe.html#line-100">nestedActionsAllowed</a></span></div>
<div class="block">Can the observer invoke actions.
 An action that specifies <a href="Action.html#requireNewTransaction()"><code>Action.requireNewTransaction()</code></a> as true will start a new transaction
 and any observables accessed within the action will not be dependencies of the observer. Sometimes this
 behaviour is desired. Sometimes an action that specifies <a href="Action.html#requireNewTransaction()"><code>Action.requireNewTransaction()</code></a> as false
 will be used instead and any observable accessed within the scope of the action will be a dependency of
 the observer and thus changes in the observable will reschedule the observer. Sometimes this
 behaviour is desired. Either way the developer must be conscious of these decisions and thus must explicitly
 set this flag to true to invoke any actions within the scope of the observers reaction.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>true if the observer can invoke actions, false otherwise.</dd>
</dl>
<dl class="notes">
<dt>Default:</dt>
<dd>false</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="reportParameters()">
<h3>reportParameters</h3>
<div class="member-signature"><span class="return-type">boolean</span>&nbsp;<span class="element-name"><a href="../../src-html/arez/annotations/Observe.html#line-108">reportParameters</a></span></div>
<div class="block">Return true if the parameters should be reported to the core Arez runtime.
 It is useful to disable reporting for large, circular or just uninteresting parameters to the spy infrastructure.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>true to report the parameters, false otherwise.</dd>
</dl>
<dl class="notes">
<dt>Default:</dt>
<dd>true</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="reportResult()">
<h3>reportResult</h3>
<div class="member-signature"><span class="return-type">boolean</span>&nbsp;<span class="element-name"><a href="../../src-html/arez/annotations/Observe.html#line-118">reportResult</a></span></div>
<div class="block">Return true if the return value of the observed function (if any) should be reported to the Arez spy subsystem.
 It is useful to disable reporting for large, circular or just uninteresting parameters to the spy infrastructure.
 This is only useful if the value of <a href="#executor()"><code>executor()</code></a> is set to <a href="Executor.html#EXTERNAL"><code>Executor.EXTERNAL</code></a> as otherwise the
 result is not reported anyway.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>true to report the return value, false otherwise.</dd>
</dl>
<dl class="notes">
<dt>Default:</dt>
<dd>true</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="depType()">
<h3>depType</h3>
<div class="member-signature"><span class="annotations"><a href="https://docs.oracle.com/javase/8/docs/api/javax/annotation/Nonnull.html" title="class or interface in javax.annotation" class="external-link">@Nonnull</a> </span><span class="return-type"><a href="DepType.html" title="enum class in arez.annotations">DepType</a></span>&nbsp;<span class="element-name"><a href="../../src-html/arez/annotations/Observe.html#line-131">depType</a></span></div>
<div class="block">Enum indicating whether the Observer is derived from arez elements and/or external dependencies.
 If set to <a href="DepType.html#AREZ"><code>DepType.AREZ</code></a> then the arez runtime will verify that the method annotated by this
 annotation accesses arez elements (i.e. instances of <a href="../ObservableValue.html" title="class in arez"><code>ObservableValue</code></a> or instances of
 <a href="../ComputableValue.html" title="class in arez"><code>ComputableValue</code></a>). If set to <a href="DepType.html#AREZ_OR_NONE"><code>DepType.AREZ_OR_NONE</code></a> then the runtime will allow
 observed to exist with no dependencies. If set to <a href="DepType.html#AREZ_OR_EXTERNAL"><code>DepType.AREZ_OR_EXTERNAL</code></a> then the component
 must define a <a href="ObserverRef.html" title="annotation interface in arez.annotations"><code>ObserverRef</code></a> method and should invoke <a href="../Observer.html#reportStale()"><code>Observer.reportStale()</code></a> when the
 non-arez dependencies are changed.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>the type of dependencies allowed in the observed method.</dd>
</dl>
<dl class="notes">
<dt>Default:</dt>
<dd>AREZ</dd>
</dl>
</section>
</li>
</ul>
</section>
</li>
</ul>
</section>
<!-- ========= END OF CLASS DATA ========= -->
</main>
</div>
</div>
</body>
</html>
