<html><head><meta charset="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge, chrome=1"/><title>Arez 0.105 released · Arez</title><meta name="viewport" content="width=device-width"/><meta name="generator" content="Docusaurus"/><meta property="og:title" content="Arez 0.105 released · Arez"/><meta property="og:type" content="website"/><meta property="og:url" content="https://arez.github.io/blog/2018/08/23/version-0.105-release.html"/><meta property="og:description" content="[Full Changelog](https://github.com/arez/arez/compare/v0.104...v0.105)"/><link rel="shortcut icon" href="/img/favicon-32x32.png"/><link rel="stylesheet" href="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.css"/><link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/idea.min.css"/><link rel="alternate" type="application/atom+xml" href="https://arez.github.io/blog/atom.xml" title="Arez Blog ATOM Feed"/><link rel="alternate" type="application/rss+xml" href="https://arez.github.io/blog/feed.xml" title="Arez Blog RSS Feed"/><script type="text/javascript" src="https://buttons.github.io/buttons.js"></script><link rel="stylesheet" href="/css/main.css"/></head><body class="sideNavVisible"><div class="fixedHeaderContainer"><div class="headerWrapper wrapper"><header><a href="/"><img class="logo" src="/img/logo.svg"/><h2 class="headerTitle">Arez</h2></a><div class="navigationWrapper navigationSlider"><nav class="slidingNav"><ul class="nav-site nav-site-internal"><li><a href="/docs/overview.html" target="_self">Docs</a></li><li><a href="/api" target="_self">API</a></li><li><a href="/blog" target="_self">Blog</a></li><li><a href="https://github.com/arez/arez/releases" target="_blank">Releases</a></li><li><a href="https://github.com/arez/arez" target="_blank">GitHub</a></li><li class="navSearchWrapper reactNavSearchWrapper"><input type="text" id="search_input_react" placeholder="Search"/></li></ul></nav></div></header></div></div><div class="navPusher"><div class="docMainWrapper wrapper"><div class="container docsNavContainer" id="docsNav"><nav class="toc"><div class="toggleNav"><section class="navWrapper wrapper"><div class="navBreadcrumb wrapper"><div class="navToggle" id="navToggler"><i></i></div><h2><i>›</i><span>Recent Posts</span></h2></div><div class="navGroups"><div class="navGroup navGroupActive"><h3>Recent Posts</h3><ul><li class="navListItem"><a class="navItem" href="/blog/2019/04/09/version-0.134-release.html">Arez 0.134 released</a></li><li class="navListItem"><a class="navItem" href="/blog/2019/03/19/version-0.133-release.html">Arez 0.133 released</a></li><li class="navListItem"><a class="navItem" href="/blog/2019/02/28/version-0.132-release.html">Arez 0.132 released</a></li><li class="navListItem"><a class="navItem" href="/blog/2019/02/24/version-0.131-release.html">Arez 0.131 released</a></li><li class="navListItem"><a class="navItem" href="/blog/2019/02/14/version-0.130-release.html">Arez 0.130 released</a></li></ul></div></div></section></div><script>
          var toggler = document.getElementById('navToggler');
          var nav = document.getElementById('docsNav');
          toggler.onclick = function() {
            nav.classList.toggle('docsSliderActive');
          };
        </script></nav></div><div class="container mainContainer documentContainer postContainer blogContainer"><div class="wrapper"><div class="lonePost"><div class="post"><header class="postHeader"><h1><a href="/blog/2018/08/23/version-0.105-release.html">Arez 0.105 released</a></h1><p class="post-meta">August 23, 2018</p><div class="authorBlock"><p class="post-authorName"><a href="https://github.com/arez" target="_blank">Arez Project</a></p></div></header><div><span><p><a href="https://github.com/arez/arez/compare/v0.104...v0.105">Full Changelog</a></p>
<p>Changes in this release:</p>
<ul>
<li><strong>[processor]</strong> Adding <code>@Deprecated</code> to methods annotated with <code>@ComponentId</code>, <code>@ComponentRef</code>,
<code>@ContextRef</code>, <code>@ContextTypeNameRef</code>, <code>@ComponentNameRef</code>, <code>@DependencyRef</code>, <code>@ObserverRef</code>, <code>@ObserverRef</code>
<code>@PreDispose</code> and <code>@PostDispose</code> no longer generates a compiler warning.</li>
<li><strong>[processor]</strong> Avoid name collisions in generated code between an existing constructor parameters name and
the name of an observable with an initializer by prefixing the synthesized name parameters in the generated
constructor with an arez prefix if the prefix is needed.</li>
<li><strong>[core]</strong> Document that <code>@ContextRef</code> annotation method must not have parameters.</li>
<li><strong>[core]</strong> Add the <code>Observable.reportObservedIfTracking()</code> method and use it from within generated code
to implement the <code>readOutsideTransaction</code> parameter on the <code>@Observable</code> annotation. This eliminates some code
duplication in generated classes and helps to reduce the code size when there is a large number of components.</li>
<li><strong>[core]</strong> Introduce the <code>@Reference</code> and <code>@ReferenceId</code> annotations that supports references
within an Arez component. A reference is retrieved from the <code>Locator</code> passed into the component using the type
returned by the <code>@Reference</code> annotated method and the id supplied by the <code>@ReferenceId</code> annotated method. The
lookup can occur lazily on access, eagerly on assign or with an explicit linking step. The <code>@ReferenceId</code>
annotated method can also be annotated with <code>@Observable</code> if the id can change over time, otherwise it is assumed
to return an immutable value.</li>
<li><strong>[core]</strong> Add the <code>arez.component.Linkable</code> interface to support explicit linking of references.</li>
<li><strong>[core]</strong> Add the <code>arez.component.Verifiable</code> interface to support explicit verification of components
internal state. The annotation processor will generate components that implement this interface if the processor
determines that the component needs verification. Verification can be enabled by changing the compile time constant
<code>&quot;&quot;arez.enable_verify&quot;</code> to <code>true</code>. This is done by default if you inherit the <code>arez.ArezDev</code> GWT module.</li>
<li><strong>[core]</strong> Add the <code>arez.Locator</code> interface to support lookup of references by type and id.</li>
<li><strong>[core]</strong> Add the <code>arez.component.TypeBasedLocator</code> implementation of <code>arez.Locator</code> that supports building
a locator from per-type lookup functions.</li>
<li><strong>[core]</strong> Add a compile configuration property <code>arez.enable_references</code> that defaults to <code>true</code> to enable or
disable support for references in the runtime. Setting the property to <code>false</code> when not needed will eliminate
unused reference support code.</li>
<li><strong>[core]</strong> Expose a per-context <code>arez.Locator</code> via <code>ArezContext.locator()</code>. This implementation delegates to
instances of <code>arez.Locator</code> registered via <code>ArezContext.registerLocator(...)</code>.</li>
<li><strong>[core]</strong> Add the <code>verify</code> parameter to the <code>@ArezComponent</code> annotation that controls whether the generated
component will implement the <code>arez.component.Verifiable</code> interface and perform verification at runtime.</li>
<li><strong>[processor]</strong> Update the compile time error generated when a component is empty so that it notes that if
<code>@Dependency</code> is present then the component is considered non-empty.</li>
<li><strong>[core]</strong> Add the ability to retrieve the priority of an observer or a computed using the spy subsystem via
either the <code>ObserverInfo.getPriority()</code> or the <code>ComputedValueInfo.getPriority()</code> methods.</li>
<li><strong>[core]</strong> Add the ability to supply an <code>onDispose</code> hook method when creating an <code>autorun</code> observer via
<code>ArezContext.autorun(...)</code>. This hook method is invoked when the observer is disposed.</li>
<li><strong>[core]</strong> The <code>&quot;when&quot;</code> observer that was previously part of the core Arez framework has been migrated to a
separate top-level project <code>arez-when</code>. The motivation for this was to reduce the complexity of the core and
only include elements that are broadly used and/or need to use internal APIs. The when observer was not broadly
used and exposing the <code>onDispose</code> hook method when creating autorun observers made it possible to implement this
functionality in a separate project.</li>
<li><strong>[core]</strong> Introduce the ability to pair <code>@Reference</code> methods with <code>@Inverse</code> so that the framework is able
to manage relationships in the reverse direction. For a complete description of this functionality, see the
javadocs and website documentation.</li>
<li><strong>[core]</strong> Update the javadocs for the <code>parameters</code> parameter passed to the <code>ArezContext.action(...)</code> and
<code>ArezContext.track(...)</code> methods to clearly articulate the the value is only used when generating spy events.</li>
<li><strong>[core]</strong> Use consistent terminology within <code>ArezContext</code>. The <code>@FunctionalInterface</code> interfaces (i.e.
<code>arez.Procedure</code>, <code>arez.SafeProcedure</code>, <code>arez.Function</code> and <code>arez.SafeFunction</code>) that are passed to the
<code>ArezContext.action(...)</code>, <code>ArezContext.autorun(...)</code> and <code>ArezContext.track(...)</code> methods as parameters
were previously named <code>action</code> which is confusing given that there is a separate domain concept for <code>Action</code>.
The parameters have been renamed to <code>executable</code> within the javadocs to reduce the potential for confusion.</li>
<li>Remove the <code>arez-entity</code> module as no longer needed once <code>@Reference</code> and <code>@Inverse</code> infrastructure has been
added to the library. This also involved merging the <code>integration-qa-support</code> module back into the
<code>integration-tests</code> module.</li>
<li><strong>[processor]</strong> Generate an invariant failure if the <code>allowEmpty</code> parameter of the <code>@ArezComponent</code> is
<code>true</code> but the component has methods annotated with arez annotations and thus is not considered empty.</li>
<li><strong>[core]</strong> Remove the <code>arez.annotations.OnDispose</code> annotation as the same behaviour can be achieved by
the use of <code>@PreDispose</code> and/or <code>@PostDispose</code> and this results in a more consistent mechanism for hooking
into the component dispose mechanisms.</li>
<li><strong>[processor]</strong> Omit the <code>protected</code> access modifier on the constructor of generated component classes as
the generated classes are <code>final</code> and thus the <code>protected</code> access modifier is equivalent to package access.</li>
<li><strong>[processor]</strong> Omit the <code>public</code> access modifier on the constructor of generated component classes if
the component class is not <code>public</code>.</li>
<li><strong>[processor]</strong> Add the <code>public</code> access modifier to a generated component classes if it has a <code>@Inverse</code>
annotated method that has a target type in a different package and the component class does not have a public
constructor. This is required so that the generated classes can interact with the synthetic methods added
to component class to manage the inverse.</li>
<li><strong>[processor]</strong> Fix bug where an <code>@Observable</code>, <code>@Nullable</code> property would be generated requiring that a
non-null value passed into the initializer.</li>
<li><strong>[gwt-output-qa]</strong> Add assertion to <code>arez.gwt.qa.ArezBuildAsserts</code> that ensures that the method
<code>arez.Observable.preReportChanged()</code> is not present in production code.</li>
<li><strong>[gwt-output-qa]</strong> Add assertion <code>arez.gwt.qa.ArezBuildAsserts.assertEquals(...)</code> that can be used to
ensure generated classes do or do not have equals defined. Add assertions into standard asserts that ensure
that no repositories have an <code>equals(...)</code> method defined.</li>
<li>💥 <strong>[core]</strong> Rename <code>ArezContext.computedValue(...)</code> methods to <code>ArezContext.computed(...)</code> for consistency.
Rename the value of the <code>type</code> property in the serialization of <code>ComputedValue</code> spy events from <code>computedValue</code>
to <code>computed</code>.</li>
<li><strong>[core]</strong> The <code>OnStale</code>, <code>OnActivate</code>, <code>OnDeactivate</code> and <code>OnDispose</code> hook methods that can be added to an
instance of <code>arez.ComputedValue</code> and the <code>OnDispose</code> hook method that can be added to <code>arez.Observer</code> are only
set on the object if the hooks are non-null. In some scenarios this decreased runtime memory usage with the
potential for a slight increase in code size in some applications. It should be noted that In J2CL, this change
actually resulted in a code size decrease if the application does not make use of the hooks.</li>
<li><strong>[core]</strong> Move the <code>OnStale</code>, <code>OnActivate</code> and <code>OnDeactivate</code> hook methods from <code>arez.Observer</code> to
<code>arez.ComputedValue</code> to decrease memory pressure at runtime as the hooks are not required except for computed
properties.</li>
<li><strong>[core]</strong> Move the field referencing the <code>Observable</code> from the <code>arez.Observer</code> class to the <code>ComputedValue</code>
class. This reduces the runtime overhead associated with non-computed observers as well as reducing the code
size. This does result in the <code>Observer</code> associated with the <code>ComputedValue</code> being disposed after the <code>Observable</code>
associated with the <code>ComputedValue</code>. However the only external impact of this change is a re-ordering of the spy
events generated by these activities.</li>
<li><strong>[core]</strong> Add the method <code>ComputedValue.reportPossiblyChanged()</code> that makes it possible for developers to
explicitly trigger an update of a computed property that is derived from non-arez dependencies.</li>
<li><strong>[processor]</strong> Remove empty statement in generated <code>equals()</code> method. This triggers warnings and/or errors in
several source code analysis tools. This is usually not a problem as it is generated code from an annotation
processor but recent updates to the tool chains can add the generated source code to analysis paths in some
circumstances.</li>
<li><strong>[core]</strong> Replace the usage of the <code>_disposed</code> an <code>_disposing</code> fields on <code>Observer</code> with existing <code>_state</code>
field. This reduces the runtime memory size of the <code>Observer</code> object by eliminating two properties.</li>
<li>💥 <strong>[core]</strong> Rename the class <code>arez.Observable</code> to <code>arez.ObservableValue</code> and rename supporting classes and
methods. The API changes include;
<ul>
<li>Rename interface <code>arez.spy.ObservableInfo</code> to <code>arez.spy.ObservableValueInfo</code>.</li>
<li>Rename method <code>asObservableValueInfo(...)</code> to <code>asObservableValueInfo(...)</code> on the class <code>arez.Spy</code>.</li>
<li>Rename class <code>arez.spy.ObservableChangedEvent</code> to <code>arez.spy.ObservableValueChangeEvent</code>.</li>
<li>Rename class <code>arez.spy.ObservableCreatedEvent</code> to <code>arez.spy.ObservableValueCreateEvent</code>.</li>
<li>Rename class <code>arez.spy.ObservableDisposedEvent</code> to <code>arez.spy.ObservableValueDisposeEvent</code>.</li>
<li>Rename the type field in serialized form of the <code>arez.spy.Observable*Event</code> classes to replace
<code>Observable...</code> with <code>ObservableValue...</code>.</li>
</ul></li>
<li>💥 <strong>[core]</strong> Remove the unused class <code>arez.component.AbstractEntityReference</code>.</li>
<li>💥 <strong>[core]</strong> Add tests covering the spy events <code>arez.spy.*Event</code>.</li>
<li>💥 <strong>[core]</strong> Change the <code>arez.spy.Component*Event</code> spy events to use <code>ComponentInfo</code> rather than <code>Component</code>.</li>
<li>💥 <strong>[core]</strong> Replace usage of the <code>arez.annotations.Priority</code> enum with <code>arez.Priority</code> and remove
the <code>arez.annotations.Priority</code> class.</li>
<li><strong>[processor]</strong> Generate an error if a component sets the <code>allowConcrete</code> to <code>true</code> in the <code>@ArezComponent</code>
annotation but is actually an abstract class.</li>
</ul>
</span></div></div></div><div class="blog-recent"><a class="button" href="/blog">Recent Posts</a></div></div></div></div><footer class="nav-footer" id="footer"><section class="sitemap"><a href="/" class="nav-home"><img src="/img/logo.svg" alt="Arez" width="66" height="58"/></a><div><h5>Docs</h5><a href="/docs/overview.html">Overview</a><a href="/docs/concepts.html">Concepts</a><a href="/api/index.html">API Reference</a></div><div><h5>More</h5><a href="/blog">Blog</a><a href="https://github.com/">GitHub</a><a class="github-button" href="https://github.com/arez/arez" data-icon="octicon-star" data-count-href="/arez/arez/stargazers" data-show-count="true" data-count-aria-label="# stargazers on GitHub" aria-label="Star this project on GitHub">Star</a></div></section><section class="copyright">Copyright © 2019 the Arez Project.</section></footer></div><script type="text/javascript" src="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.js"></script><script>
              var search = docsearch({
                apiKey: 'b8c49751e0914443436822868f0c5000',
                indexName: 'arez',
                inputSelector: '#search_input_react'
              });
            </script></body></html>