<html><head><meta charset="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge, chrome=1"/><title>Arez 0.106 released · Arez</title><meta name="viewport" content="width=device-width"/><meta name="generator" content="Docusaurus"/><meta property="og:title" content="Arez 0.106 released · Arez"/><meta property="og:type" content="website"/><meta property="og:url" content="https://arez.github.io/blog/2018/08/31/version-0.106-release.html"/><meta property="og:description" content="[Full Changelog](https://github.com/arez/arez/compare/v0.105...v0.106)"/><link rel="shortcut icon" href="/img/favicon-32x32.png"/><link rel="stylesheet" href="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.css"/><link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/idea.min.css"/><link rel="alternate" type="application/atom+xml" href="https://arez.github.io/blog/atom.xml" title="Arez Blog ATOM Feed"/><link rel="alternate" type="application/rss+xml" href="https://arez.github.io/blog/feed.xml" title="Arez Blog RSS Feed"/><script type="text/javascript" src="https://buttons.github.io/buttons.js"></script><link rel="stylesheet" href="/css/main.css"/></head><body class="sideNavVisible"><div class="fixedHeaderContainer"><div class="headerWrapper wrapper"><header><a href="/"><img class="logo" src="/img/logo.svg"/><h2 class="headerTitle">Arez</h2></a><div class="navigationWrapper navigationSlider"><nav class="slidingNav"><ul class="nav-site nav-site-internal"><li><a href="/docs/overview.html" target="_self">Docs</a></li><li><a href="/api" target="_self">API</a></li><li><a href="/blog" target="_self">Blog</a></li><li><a href="https://github.com/arez/arez/releases" target="_blank">Releases</a></li><li><a href="https://github.com/arez/arez" target="_blank">GitHub</a></li><li class="navSearchWrapper reactNavSearchWrapper"><input type="text" id="search_input_react" placeholder="Search"/></li></ul></nav></div></header></div></div><div class="navPusher"><div class="docMainWrapper wrapper"><div class="container docsNavContainer" id="docsNav"><nav class="toc"><div class="toggleNav"><section class="navWrapper wrapper"><div class="navBreadcrumb wrapper"><div class="navToggle" id="navToggler"><i></i></div><h2><i>›</i><span>Recent Posts</span></h2></div><div class="navGroups"><div class="navGroup navGroupActive"><h3>Recent Posts</h3><ul><li class="navListItem"><a class="navItem" href="/blog/2019/01/17/version-0.123-release.html">Arez 0.123 released</a></li><li class="navListItem"><a class="navItem" href="/blog/2019/01/17/version-0.122-release.html">Arez 0.122 released</a></li><li class="navListItem"><a class="navItem" href="/blog/2018/12/11/version-0.121-release.html">Arez 0.121 released</a></li><li class="navListItem"><a class="navItem" href="/blog/2018/12/10/version-0.120-release.html">Arez 0.120 released</a></li><li class="navListItem"><a class="navItem" href="/blog/2018/12/07/version-0.119-release.html">Arez 0.119 released</a></li></ul></div></div></section></div><script>
          var toggler = document.getElementById('navToggler');
          var nav = document.getElementById('docsNav');
          toggler.onclick = function() {
            nav.classList.toggle('docsSliderActive');
          };
        </script></nav></div><div class="container mainContainer documentContainer postContainer blogContainer"><div class="wrapper"><div class="lonePost"><div class="post"><header class="postHeader"><h1><a href="/blog/2018/08/31/version-0.106-release.html">Arez 0.106 released</a></h1><p class="post-meta">August 31, 2018</p><div class="authorBlock"><p class="post-authorName"><a href="https://github.com/arez" target="_blank">Arez Project</a></p></div></header><div><span><p><a href="https://github.com/arez/arez/compare/v0.105...v0.106">Full Changelog</a></p>
<p>Changes in this release:</p>
<ul>
<li><strong>[core]</strong> Add invariant check that stops an observer's transaction from executing within the scope of
another transaction.</li>
<li><strong>[processor]</strong> The invariant check generated to verify the link step of references was being generated
outside of the associated guard resulting. This could result in dead-code not being eliminated in GWT2.x
and triggered warnings in source code analysis programs such as spotbugs.</li>
<li><strong>[core]</strong> Add an additional <code>ArezContext.computed(...)</code> method that takes a <code>arezOnlyDependencies</code> parameter.
The parameter defaults to <code>true</code> which means that the <code>ComputedValue</code> created expects the compute function to
access at least one Arez <code>ObservableValue</code> or <code>ComputedValue</code> within the scope of the function. It will also
generate an invariant failure if this is not the case and <code>apiInvariants</code> are enabled. The new parameter allows
the construction of <code>ComputedValue</code> instances that do not check invariants. This makes it possible for
<code>ComputedValue</code> instances to be derived from external, non-arez reactive elements that explicitly trigger changes
via <code>ComputedValue.reportPossiblyChanged()</code>. <code>ComputedValue.reportPossiblyChanged()</code> has also been changed
to generate an invarint failure if it is invoked and <code>arezOnlyDependencies</code> is <code>true</code>.</li>
<li><strong>[core]</strong> Add the <code>arezOnlyDependencies</code> parameter to the <code>@Computed</code> annotation and update the annotation
processor to support generate the supporting infrastructure. If the parameter is set to <code>false</code> the</li>
<li><strong>[gwt-output-qa]</strong> Fix assertions that broke due to rename of class <code>Observable</code> to <code>ObservableValue</code>.</li>
<li><strong>[core]</strong> Cache the <code>*Info</code> classes that are created for Arez elements <code>Component</code>, <code>ObservableValue</code>,
<code>ComputedValue</code>, <code>Observer</code> and <code>Transaction</code> when generating spy events or when interacting with a context
via the <code>arez.Spy</code> interface. This dramatically improves the performance during debugging by eliminating
excessive garbage collection. Assertions have been added to the <code>gwt-output-qa</code> module to ensure that the
cached fields never flow through into production code.</li>
<li><strong>[core]</strong> Add some additional tests of the external API of <code>arez.ArezContext</code>.</li>
<li><strong>[core]</strong> Change the way autorun observers and <code>keepAlive</code> computed values schedule their initial execution
if the <code>runImmediate</code> parameter is <code>true</code> to align between the low-level API in the <code>arez</code> package and the
way it was implemented in the component layer. Previously in the low-level API, the initial executions would
not be wrapped in a call to <code>arez.ReactionEnvironment</code> if it was present as they were invoked inline but they
would be wrapped in the component API. In the low-level API they would be invoked immediately regardless of
whether there was other higher priority reactions pending while the component API would schedule the reaction
and process the reactions using the normal scheduling priority ordering. The low-level API has been updated
to match the component API and will schedule the reaction using the standard mechanisms.</li>
<li><strong>[core]</strong> Add the <code>@CascadeDispose</code> annotation that can be applied to fields and will result in the
value being disposed when the component is disposed.</li>
<li><strong>[core]</strong> Add <code>ObserverInfo.isActive()</code> method so that the spy subsystem can inspect whether an observer
is active.</li>
<li><strong>[core]</strong> Improve invariant checking <code>Observer.setState(...)</code> so that any attempt to change from <code>DISPSOED</code>
to a non-<code>DISPOSED</code> state will generate in invariant failure.</li>
<li><strong>[core]</strong> Support passing in <code>arezOnlyDependencies</code> parameter when creating <code>track</code> and <code>autorun</code> observers.
This makes it possible for code to explicitly invoke the newly added method <code>Observer.reportStale()</code> to mark an
observer as stale and re-schedule the reaction associated with the observer. This makes it easier to access
non-arez dependencies in an observer and trigger the observer when the dependency changes.</li>
<li><strong>[core]</strong> Add the ability to pass in an <code>onDepsUpdated</code> hook to <code>ArezContext.autorun(...)</code> methods. This
hook method will be invoked when the system detects that dependencies have been updated but it is up to
non-arez code to invoke the newly added method <code>Observer.schedule()</code> that will schedule the observer. The
<code>schedule()</code> method will add the observer to the schedulers queue and trigger the scheduler
if it is not already active and not paused. It should be noted that invoking the <code>schedule()</code> method when the
observer has not been marked as <code>STALE</code> is effectively a no-op. The observer will be scheduled but when it comes
to invoke the observer, it will be skipped if it is <code>UP_TO_DATE</code>. This feature makes it possible for the arez
framework to manage execution of the observer and detection of dependency changes but make scheduling a
user-space concern. This makes it possible to debounce, throttle, delay etc. in application layer.</li>
<li><strong>[core]</strong> Add invariant check to verify that only the tracker associated with the current transaction can
be added as an observer to an observable.</li>
<li><strong>[core]</strong> Rename the <code>executable</code> parameter on <code>ArezContext.tracker(...)</code> methods to <code>onDepsUpdated</code> to align
with the terminology in the component model and indicate intent.</li>
<li><strong>[core]</strong> Rename the <code>executable</code> parameter on <code>ArezContext.autorun(...)</code> methods to <code>tracked</code> so that there
is consistent terminology within the core api.</li>
<li><strong>[core]</strong> Avoid emitting transaction mode in invariant failure messages when incorrect nesting of actions occur.</li>
</ul>
</span></div></div></div><div class="blog-recent"><a class="button" href="/blog">Recent Posts</a></div></div></div></div><footer class="nav-footer" id="footer"><section class="sitemap"><a href="/" class="nav-home"><img src="/img/logo.svg" alt="Arez" width="66" height="58"/></a><div><h5>Docs</h5><a href="/docs/overview.html">Overview</a><a href="/docs/concepts.html">Concepts</a><a href="/api/index.html">API Reference</a></div><div><h5>More</h5><a href="/blog">Blog</a><a href="https://github.com/">GitHub</a><a class="github-button" href="https://github.com/arez/arez" data-icon="octicon-star" data-count-href="/arez/arez/stargazers" data-show-count="true" data-count-aria-label="# stargazers on GitHub" aria-label="Star this project on GitHub">Star</a></div></section><section class="copyright">Copyright © 2019 the Arez Project.</section></footer></div><script type="text/javascript" src="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.js"></script><script>
              var search = docsearch({
                apiKey: 'b8c49751e0914443436822868f0c5000',
                indexName: 'arez',
                inputSelector: '#search_input_react'
              });
            </script></body></html>